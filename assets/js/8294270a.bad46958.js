"use strict";(self.webpackChunkcasdk_docs=self.webpackChunkcasdk_docs||[]).push([[8078],{4504:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var i=t(4848),o=t(5680);const r={},l="Linting",a={id:"tutorial-extras/linting",title:"Linting",description:"- Linting",source:"@site/docs/tutorial-extras/linting.md",sourceDirName:"tutorial-extras",slug:"/tutorial-extras/linting",permalink:"/docs/tutorial-extras/linting",draft:!1,unlisted:!1,editUrl:"https://github.com/Green-Software-Foundation/carbon-aware-sdk/docs/tutorial-extras/linting.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Containerized WebApi",permalink:"/docs/tutorial-extras/containerization"},next:{title:"Packaging the Carbon Aware SDK",permalink:"/docs/tutorial-extras/packaging"}},s={},c=[{value:"Markdown Linting",id:"markdown-linting",level:2},{value:"Github Action",id:"github-action",level:3},{value:"Linting Locally",id:"linting-locally",level:3},{value:"VS Code Extension",id:"vs-code-extension",level:4}];function d(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.RP)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"linting",children:"Linting"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"#linting",children:"Linting"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"#markdown-linting",children:"Markdown Linting"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#github-action",children:"Github Action"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#linting-locally",children:"Linting Locally"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#vs-code-extension",children:"VS Code Extension"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"markdown-linting",children:"Markdown Linting"}),"\n",(0,i.jsxs)(e.p,{children:["Per ",(0,i.jsx)(e.a,{href:"/docs/architecture/decisions/documentation",children:"ADR 0004"}),", documentation\nwill be linted using\n",(0,i.jsx)(e.a,{href:"https://github.com/DavidAnson/markdownlint/tree/main",children:"markdownlint"})," to enforce\nfile consistency for readers and authors."]}),"\n",(0,i.jsxs)(e.p,{children:["This repo contains a\n",(0,i.jsx)(e.a,{href:"../../custom.markdownlint.jsonc",children:"custom.markdownlint.jsonc"})," configuration file\nat the root which handles the markdown rules enforced. This file can be used\nlocally (to check/fix violations) and is also consumed by the Github Action\npipeline to check for consistency on PRs."]}),"\n",(0,i.jsx)(e.h3,{id:"github-action",children:"Github Action"}),"\n",(0,i.jsxs)(e.p,{children:["The ",(0,i.jsx)(e.a,{href:"../.github/workflows/linting.yaml",children:"linting.yaml"})," workflow contains the\ngithub action that will run on for each PR. The ",(0,i.jsx)(e.code,{children:'"Markdown Linting"'})," job handles\nrunning the ",(0,i.jsx)(e.a,{href:"https://github.com/DavidAnson/markdownlint-cli2",children:"markdown linter"}),"\nusing the ",(0,i.jsx)(e.a,{href:"../../custom.markdownlint.jsonc",children:"custom.markdownlint.jsonc"})," config\nfile at the root of the repo. This action is non-blocking, and is meant to\nprovide information to the user about violations ."]}),"\n",(0,i.jsx)(e.h3,{id:"linting-locally",children:"Linting Locally"}),"\n",(0,i.jsxs)(e.p,{children:["In order to run markdown linting locally, you will need to have an installation\nof ",(0,i.jsx)(e.a,{href:"https://github.com/DavidAnson/markdownlint",children:"markdownlint"}),". We reccomend the\n",(0,i.jsx)(e.a,{href:"https://github.com/DavidAnson/markdownlint-cli2",children:"markdownlint-cli2"}),", which is\nthe same used by the Github action pipeline."]}),"\n",(0,i.jsx)(e.p,{children:"The various CLI commands are detailed in the Github docs but the command the\npipeline will run (checks all files given the custom config except for .github\nfolder) is:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'markdownlint-cli2-config "./custom.markdownlint.jsonc" {"*[^.github]/**,*"}.md\n'})}),"\n",(0,i.jsx)(e.p,{children:"The result will list all of the violations including the file, line number, and\ncode for the violation. An example successful result is included below:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"Finding: **/*.md\nLinting: 35 file(s)\nSummary: 0 error(s)\n"})}),"\n",(0,i.jsx)(e.h4,{id:"vs-code-extension",children:"VS Code Extension"}),"\n",(0,i.jsxs)(e.p,{children:["If you are developing in VS Code, there is also a\n",(0,i.jsx)(e.a,{href:"https://marketplace.visualstudio.com/items?itemName=DavidAnson.vscode-markdownlint",children:"markdownlint"}),"\nextension which you can install. This extension will let you leverage the VS\nCode formatter to fix your markdown files. While it may not be able to fix all\nof the violations, it will catch most of the small formatting ones."]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Note the extension uses the default formatting configuration. If you want to\nauto-format based on our custom config file, you will need to manually include\nthose in the extensions' settings."}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,o.RP)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},5680:(n,e,t)=>{t.d(e,{RP:()=>c});var i=t(6540);function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?r(Object(t),!0).forEach((function(e){o(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function a(n,e){if(null==n)return{};var t,i,o=function(n,e){if(null==n)return{};var t,i,o={},r=Object.keys(n);for(i=0;i<r.length;i++)t=r[i],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(i=0;i<r.length;i++)t=r[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var s=i.createContext({}),c=function(n){var e=i.useContext(s),t=e;return n&&(t="function"==typeof n?n(e):l(l({},e),n)),t},d={inlineCode:"code",wrapper:function(n){var e=n.children;return i.createElement(i.Fragment,{},e)}},h=i.forwardRef((function(n,e){var t=n.components,o=n.mdxType,r=n.originalType,s=n.parentName,h=a(n,["components","mdxType","originalType","parentName"]),u=c(t),m=o,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||r;return t?i.createElement(f,l(l({ref:e},h),{},{components:t})):i.createElement(f,l({ref:e},h))}));h.displayName="MDXCreateElement"}}]);